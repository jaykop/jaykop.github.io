---
title: "ECS"
classes: wide
categories: 
  - post
  - Unity
sidebar:
  nav: "main"
author_profile: true
---
  
## 유니티의 Entity Component System

### 기존 방식의 Component System
* 기존의 Component System은 GameObject와 Component들이 연속적인 메모리 구조로 배치되어 있지 않다
* 랜덤 메모리에 저장된 Component들은 캐시 미스를 발생시키며, Component에 접근하기 위해 GameObject를 거쳐야만 한다

### Entity Component System
* DOP (Dara-Oriented Programming)으로 설계된 시스템
* 주요 3요소가 Entity, Component, System이다
  * 기본적인 개념은 [다음](https://jaykop.github.io/post/etc/ComponentBased/#%EC%9E%91%EB%8F%99-%EC%9B%90%EB%A6%AC)과 동일하다
* 엔티티를 정의할 때 필요한 컴포넌트들을 하나의 메모리 청크로서 묶어 저장하는 방식이다

## 개인적인 궁금증

### ECS의 의의는 DOP에 있는가, 아니면 유사한 Component들의 업데이트를 시스템 단위로 처리하는 데에 있는가?
* 기존 Unity가 Component 업데이트를 System 단위로 하지 않았고 오브젝트에 일일이 접근해 업데이트해왔으며, 이를 새로운 패러다임이라고 개발중이라면 이는 꽤나 충격적이다
* 내가 13년도에 모킹하고 또 이후에 차용한 게임엔진 작동 방식은 이미 시스템 단위로 컴포넌트를 관리하고 있었다

### Unity가 추구하는 ECS가 ***기존 개념***에서 DOP 철학을 추가한 것이라면 납득할만하다
* Physics 시스템이 Collider, RigidBody, Collision을 하나의 청크로 묶어 관리하고, Graphics 시스템이 Sprite, Animation, Particle, Text 등의 컴포넌트를 하나로 묶어 업데이트 한다면 확실히 캐시 히트율은 증가할 것이다

### 그러나 이런 패러다임이 필요할 만큼의 하드웨어 스펙이 모자란가?
* 오늘날의 하드웨어 스펙은 마리오 시절의 그것과는 다르게 미친듯이 풍족하다
* ***일반적인*** 개발자들, 특히 게임 개발자들이 DOP를 고안할만큼의 프로그램을 개발하는 케이스는 극히 드물 것 같다

### 보다 정확한 ECS의 개념은 무엇이고, Unity의 철학은 이와 동일한가?
* 아래 첨부한 두 출처 글에 따르면, ECS가 추구하고자 하는 바는 각각 DOTS 그리고 시스템 단위로 관리할 컴포넌트들이 정해져 있다는 것이다
* 시스템 단위로 관리할 컴포넌트들을 연속적인 메모리로 구성하든, 비트 로직으로 특정하든 결국은 컴포넌트 시스템 방식의 확장이라는 것은 분명한 것 같다

## 출처
* <https://velog.io/@cedongne/Unity-%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EC%8B%9C%EC%8A%A4%ED%85%9C-ECS%EC%99%80-Entity>
* <https://m.blog.naver.com/kiseop91/221855589754>